{% extends 'base.html' %}

{% block title %}Admin Panel{% endblock %}

{% block content %}
<h2 class="mb-4">لوحة التحكم - إضافة سؤال جديد</h2>

<form method="POST" class="mb-5">
  <div class="mb-3">
    <label class="form-label">السؤال</label>
    <input type="text" name="question_text" class="form-control" required>
  </div>

  <div class="mb-3">
    <label class="form-label">الخيار 1</label>
    <input type="text" name="choice1" class="form-control" required>
  </div>

  <div class="mb-3">
    <label class="form-label">الخيار 2</label>
    <input type="text" name="choice2" class="form-control" required>
  </div>

  <div class="mb-3">
    <label class="form-label">الخيار 3</label>
    <input type="text" name="choice3" class="form-control" required>
  </div>

  <div class="mb-3">
    <label class="form-label">الخيار 4</label>
    <input type="text" name="choice4" class="form-control" required>
  </div>

  <div class="mb-3">
    <label class="form-label">الإجابة الصحيحة</label>
    <input type="text" name="correct_answer" class="form-control" required>
  </div>

  <button type="submit" class="btn btn-success">أضف السؤال</button>
</form>

<h3>جميع الأسئلة</h3>
<table class="table table-bordered table-striped">
  <thead>
    <tr>
      <th>السؤال</th>
      <th>الخيار 1</th>
      <th>الخيار 2</th>
      <th>الخيار 3</th>
      <th>الخيار 4</th>
      <th>الإجابة الصحيحة</th>
      <th>إجراءات</th>
    </tr>
  </thead>
  <tbody>
    {% for question in questions %}
    <tr>
      <td>{{ question.question_text }}</td>
      <td>{{ question.choice1 }}</td>
      <td>{{ question.choice2 }}</td>
      <td>{{ question.choice3 }}</td>
      <td>{{ question.choice4 }}</td>
      <td>{{ question.correct_answer }}</td>
      <td>
        <a href="{{ url_for('edit_question', question_id=question.id) }}" class="btn btn-warning btn-sm">تعديل</a>
        <a href="{{ url_for('delete_question', question_id=question.id) }}" class="btn btn-danger btn-sm" onclick="return confirm('هل أنت متأكد من الحذف؟');">حذف</a>
      </td>
    </tr>
    {% else %}
    <tr><td colspan="7" class="text-center">لا توجد أسئلة مضافة حتى الآن.</td></tr>
    {% endfor %}
  </tbody>
</table>

{% endblock %}
